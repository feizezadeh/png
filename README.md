# سیستم جامع مدیریت اشتراک FTTH

این یک پروژه کامل برای مدیریت اشتراک‌های شبکه فیبر نوری (FTTH) است که از ابتدا با PHP, MySQL, و JavaScript ساخته شده است.

## ✨ ویژگی‌ها

- **مدیریت کامل CRUD:** برای مراکز مخابراتی، FAT ها، مشترکین و اشتراک‌ها.
- **سیستم احراز هویت:** مبتنی بر سشن با هش کردن امن رمزهای عبور.
- **کنترل دسترسی مبتنی بر نقش:** تفکیک دسترسی برای کاربران ادمین و پشتیبانی.
- **گزارش‌گیری پیشرفته:** با قابلیت فیلتر بر اساس پارامترهای مختلف و خروجی در فرمت‌های JSON, CSV, و PDF.
- **رابط کاربری مدرن و واکنش‌گرا:**
    - منوی کاشی-مانند برای دسترسی سریع.
    - حالت شب (Dark Mode) با ذخیره‌سازی در حافظه محلی.
    - طراحی کاملاً راست‌چین (RTL) برای زبان فارسی.
- **نقشه Leaflet:** برای انتخاب مختصات جغرافیایی FAT ها.
- **پشتیبانی از PWA:** قابلیت نصب بر روی دستگاه و عملکرد آفلاین برای پوسته اصلی برنامه.
- **امنیت:** محافظت در برابر حملات SQL Injection و XSS.

---

## 🚀 راه‌اندازی و نصب

برای اجرای این پروژه به یک وب سرور با پشتیبانی از PHP و یک پایگاه داده MySQL نیاز دارید (مانند XAMPP, WAMP, یا MAMP).

### مرحله ۱: تنظیم پایگاه داده

1.  در محیط مدیریت پایگاه داده خود (مثلاً phpMyAdmin)، یک پایگاه داده جدید با نام `ftth_db` و collation `utf8mb4_persian_ci` ایجاد کنید.
2.  فایل `database.sql` را در این پایگاه داده import کنید. این کار تمام جداول مورد نیاز را ایجاد می‌کند.

### مرحله ۲: تنظیمات برنامه

1.  فایل `config/config.php` را باز کنید.
2.  اطلاعات اتصال به پایگاه داده خود را در ثابت‌های `DB_HOST`, `DB_NAME`, `DB_USER`, و `DB_PASS` وارد کنید.

```php
// مثال
define('DB_HOST', 'localhost');
define('DB_NAME', 'ftth_db');
define('DB_USER', 'root');
define('DB_PASS', ''); // رمز عبور خود را وارد کنید
```

### مرحله ۳: ساخت کاربر ادمین کل (Super Admin)

برای ورود به سیستم، باید یک کاربر ادمین کل به صورت دستی در پایگاه داده ایجاد کنید.

1.  یک رمز عبور قوی انتخاب کرده و آن را هش کنید. می‌توانید از ابزارهای آنلاین یا یک اسکریپت PHP ساده برای این کار استفاده کنید. مثال PHP:
    ```php
    echo password_hash('your_strong_password_here', PASSWORD_DEFAULT);
    ```
2.  مقدار هش شده را کپی کنید و دستور SQL زیر را با اطلاعات خود اجرا نمایید:

    ```sql
    -- لطفا 'your_hashed_password_here' را با هش واقعی جایگزین کنید
    INSERT INTO `users` (`username`, `password`, `role`)
    VALUES ('admin', 'your_hashed_password_here', 'super_admin');
    ```
3.  اکنون می‌توانید با نام کاربری `admin` و رمز عبوری که انتخاب کردید وارد سیستم شوید.

### مرحله ۴: اجرای برنامه

پروژه را در سرور محلی خود اجرا کنید و فایل `index.php` را باز کنید. اکنون می‌توانید با اطلاعات کاربری که در مرحله ۳ ایجاد شد، وارد سیستم شوید.

---
موفق باشید!
